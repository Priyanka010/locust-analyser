# Locust Analyser API (PDF Support)

This FastAPI service accepts a **PDF Locust report**, extracts text using `pdfplumber`, and analyzes it using Vertex AI's Gemini model.

 **Local Development**

Install dependencies:

pip install -r requirements.txt
Run locally:
uvicorn main:app --reload --port 8080

**API**

POST /analyze
Upload a Locust report in PDF format.

Request:

multipart/form-data
file: PDF file exported from a Locust run
Response:

200 OK: Returns a plain-text summary of the analysis (generated by Gemini)
400 Bad Request: Invalid or unreadable PDF
500 Internal Server Error: PDF parsing or Gemini failure

** Cloud Run Deployment
**
Before deploying, set the following environment variables:

GCP_PROJECT: Your GCP project ID
GCP_REGION: e.g., australia-southeast1
Deploy via Google Cloud CLI:
gcloud run deploy locust-api \
  --source . \
  --region $GCP_REGION \
  --allow-unauthenticated \
  --set-env-vars GCP_PROJECT=$GCP_PROJECT,GCP_REGION=$GCP_REGION

** Dependencies
**
FastAPI â€“ API framework
pdfplumber â€“ PDF text/table extractor
pandas â€“ DataFrame formatting for markdown
google-cloud-aiplatform â€“ Gemini via Vertex AI
uvicorn â€“ ASGI server

**Coming Soon
**
ðŸ§  Local version using Gemma

